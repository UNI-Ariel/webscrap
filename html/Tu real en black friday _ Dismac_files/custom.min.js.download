function filterOptionsWarrantyItem(list){let currentApplyWarrantyOption=null;for(let index=0;index<list.length;index++){let currentExtendedWarranty=jQuery(list[index]);if(currentExtendedWarranty.attr('data-item')==window.currentItemPopUpSelected){currentApplyWarrantyOption=currentExtendedWarranty;}}
if(currentApplyWarrantyOption!=null){extendedWarranty.addTocartWarranty(currentApplyWarrantyOption.attr('data-price'),currentApplyWarrantyOption.attr('data-sku'),currentApplyWarrantyOption.attr('data-warranty'),currentApplyWarrantyOption.attr('data-item'),false,currentApplyWarrantyOption.attr('data-product'));}else{if(jQuery('.no-warranty-'+window.currentItemPopUpSelected).is(':checked')){extendedWarranty.addTocartWarranty(null,null,null,window.currentItemPopUpSelected,false);}}}
function loadingEfectButton(button,text,image){const container=document.querySelector(button);container.classList.add('button-content-loading');container.innerHTML='';container.classList.add('active-loading-request');let contentLoading=`<div class="content-loading-button"><span class="text-loading-request">${text}</span><img id="rotating-button-loading" src="${image}" alt="${text}..."></div>`;container.innerHTML=contentLoading;}
function openModalQuickCheckout(idModal){var modalQuickCheckout=document.getElementById(idModal);modalQuickCheckout.classList.add('_show-quickcheckout-modal');modalQuickCheckout.style.display="block";}
function closeModalQuickCheckout(idModal){var modalQuickCheckout=document.getElementById(idModal);modalQuickCheckout.style.display='none';}
function verifySpaceQuery(query){return query.slice(-1)===" "|query.slice(-1)==="";}
function validateLastQuery(query,type){if(verifyLengthQuery(query)){if(window.lastQuery==null){window.lastQuery=query;return existTypeQuery(type);}else{if(window.lastQuery!=query){window.lastQuery=query;if(!verifySpaceQuery(window.lastQuery)){resetTypeQuery();}
return existTypeQuery(type);}else{return existTypeQuery(type);}}}else{resetTypeQuery();return null;}}
function resetTypeQuery(){window.historyQuery=[];window.typeQuery=null;}
function existTypeQuery(type){if(verifySpaceQuery(window.lastQuery)){return false;}
if(window.typeQuery==null){window.typeQuery=[type];return true;}else{if(window.typeQuery.includes(type)){return false;}else{window.typeQuery.push(type);return true;}}}
function vefifyLengthLastQuery(){return verifyLengthQuery(window.lastQuery);}
function verifyLengthQuery(query){if(query.length>=window.minimumLength){return true;}else{return false;}}
function setHistoryQuery(type,responseAlgoia){window.historyQuery.push({"type":type,"responseAlgoia":responseAlgoia});}
function findHistoryQuery(type){for(let index=0;index<window.historyQuery.length;index++){if(window.historyQuery[index]["type"]==type){return window.historyQuery[index]["responseAlgoia"];}}
return[];}
function resetCheckoutCart(){jQuery.ajax({showLoader:true,url:"https://"+window.location.hostname+"/resetcart/reset/cart",data:{},type:"POST"}).done(function(data){});}
function addToCartAjaxProductRecommendation(form){var formData=new FormData(form);fetch(form.action,{method:'POST',body:formData}).then(response=>{if(response.ok){updateCartDetailsAndShowCart();}else{console.error('Error al agregar al carrito:',response.statusText);}}).catch(error=>{console.error('Error al agregar al carrito:',error);});}
function updateCartDetailsAndShowCart(){require(['jquery','Magento_Customer/js/customer-data'],function($,customerData){var sections=['cart'];customerData.invalidate(sections);customerData.reload(sections,true);if($("#cartTemplate").length>0){if($("#cartTemplate").css("right")=='-200px'){$("#cartTemplate").css("z-index","9999");$("#cartTemplate").show();$("#cartTemplate").animate({right:'+=200px'},500);}}});}
function applySlickProductRecommendation(){require(['jquery','domReady!','slick'],function($){$('.product-items').slick({infinite:true,slidesToShow:6,slidesToScroll:1,autoplay:true,autoplaySpeed:6000});});}
function getpopuppreview(sku,isEventCategory,eventProductHasStock){require(['jquery','Magento_Ui/js/modal/modal','mage/url','mage/storage','mage/mage'],function($,modal,urlBuilder,storage,mage){var options={type:'popup',responsive:true,innerScroll:true,modalClass:'productpreview-popup',buttons:[]};let url_controller="https://"+window.location.hostname+"/productpreview";$('body').trigger('processStart');setTimeout(function(){$.ajax({url:url_controller,type:'POST',dataType:'json',data:{idProduct:sku,isEventCategory:isEventCategory,eventProductHasStock:eventProductHasStock},showLoader:true,success:function(response){if(response.error==true){$('#logcelci-modal').prepend('<div class="message-error error message"><span>'+$.mage.__(response.messages)+'</span></div>');if(response.redirect){window.location=response.redirect}}else{modal(options,$('#logcelci-modal'));$("#logcelci-modal").html(response.output).modal(options).modal('openModal');}},complete:function(){$('body').trigger('processStop');}});},1000);});}
function generatePDFForCurrentCategory(){require(["jquery"],function($){EventsGoogleAnalytics4('Descargar_PDF_PDC',$("#current_category_name").val());});var url="https://"+window.location.hostname+"/downloadcatalog/index/generatePDF";window.location.href=url;}
function selectProductPopUp(sku){if(verifyProductPopUp(sku)===false){insertHistoryProductPopUp(sku);return EventsGoogleAnalytics4('producto_en_popup',sku);}
return true;}
function verifyProductPopUp(sku){if(window.localStorage.productsPopUp!=null){let array=JSON.parse(window.localStorage.productsPopUp);return array.includes(sku);}else{saveHistoryProductPopUp([]);return false;}}
function insertHistoryProductPopUp(sku){let array=JSON.parse(window.localStorage.productsPopUp);array.push(sku);saveHistoryProductPopUp(array);}
function deleteHistoryProductPopUp(sku){if(verifyProductPopUp(sku)===true){let array=JSON.parse(window.localStorage.productsPopUp);const index=array.indexOf(sku);if(index>-1){array.splice(index,1);}
saveHistoryProductPopUp(array);}}
function saveHistoryProductPopUp(array){window.localStorage.productsPopUp=JSON.stringify(array);}
function getDataCartPurchase(){let ItemsCart=[];if(window.localStorage.oldCart!=null){let CartOld=JSON.parse(window.localStorage.oldCart);if(CartOld.length>0){for(let index=0;index<CartOld.length;index++){if(verifyProductPopUp(CartOld[index]["id"])){EventsGoogleAnalytics4('purchase_by_pop_up',CartOld[index]["id"]);}
ItemsCart.push({item_name:CartOld[index]["name"],item_id:CartOld[index]["id"],price:parseFloat(CartOld[index]["price"]),item_brand:CartOld[index]["brand"],item_category:CartOld[index]["category"],item_variant:"Default",item_list_name:CartOld[index]["name"],item_list_id:"",index:1,quantity:CartOld[index]["quantity"]});}}}
window.localStorage.oldCart=JSON.stringify([]);saveHistoryProductPopUp([]);return ItemsCart;}
function sentEventPurchaseGoogleAnalytics(data){window.gtag("event","purchase",data);}
function checkRetryPolicyCybersource(){let $=jQuery;let number=$('#chcybersource_cc_number').val();let expiration=$('#chcybersource_expiration').find(":selected").val()+'-'+$('#chcybersource_expiration_yr').find(":selected").val();var newUrl=window.location.origin+'/cybersourcepolicy/validatorcy/index';$.ajax({url:newUrl,type:"post",dataType:"json",showLoader:true,data:{number:number,expiration:expiration},success:function(response){var result=response.success;if(!result){$('.FinishSaleBTN').prop('disabled',true);alert("Estimado cliente, le informamos que su tarjeta ha sido bloqueada temporalmente debido a la repetición de intentos fallidos. Por favor intente con otra tarjeta.");$('#chcybersource_cc_number').val('');$('#chcybersource_expiration').val('');$('#chcybersource_expiration_yr').val('');$('#chcybersource_cc_cid').val('');}else{$('.FinishSaleBTN').prop('disabled',false);}},error:function(xhr,status,error){console.error("Error en la llamada AJAX",error);}});}
function clearCvv(){let $=jQuery;$('#chcybersource_cc_cid').val('');}
function EventsGoogleAnalytics4(event,value){if("gtag"in window){const isNumber=!isNaN(value)&&value!==null&&value!=="";const params=isNumber?{value:Number(value)}:{custom_value:String(value)};window.gtag("event",event,params);}
return true;}
document.addEventListener("DOMContentLoaded",function(){var popups=document.querySelectorAll('.bss_popup.popup_content');popups.forEach(function(popup){var imgLoader=document.createElement('div');imgLoader.innerHTML="<img src='https://www.dismac.com.bo/media/wysiwyg/loader.gif' alt='Cargando...'>";imgLoader.classList.add('imgLoader');imgLoader.style.cssText="position: absolute; width: 100%; height: 100%; top: 0; left: 0; background: white; display: flex; align-items: center; justify-content: center; z-index: 100;";popup.style.position="relative";popup.appendChild(imgLoader);setTimeout(function(){imgLoader.remove();popup.querySelectorAll('.product-item-info').forEach(function(info){info.style.visibility='inherit';});},2000);});});function activeSwitchContent(title,body,classActive="active"){require(['jquery','domReady!'],function($){$(document).ready(function(){$(title).click(function(){if(window.innerWidth<=1024){if($(body).is(":visible")){$(title).removeClass(classActive);$(body).slideUp();}else{$(title).addClass(classActive);$(body).slideDown();}}});});});}
require(['jquery','domReady!'],function($){$(document).ready(function(){var existConditionquote=setInterval(function(){var dot='.';var lat='';},100);$('.entrega-gratuita.store span .store-available').on("click",function(){if($("#tab-label-disponible\\.tab-title").length>0&&$(".disponible-wrapper-tab").children().length>0){$("#tab-label-disponible\\.tab-title").click();}});$(document).on("click",".mundo-minicuotas",function(){require(['jquery','Magento_Ui/js/modal/modal','mage/url','mage/storage','mage/mage'],function($,modal,urlBuilder,storage,mage){var newUrl=window.location.origin+'/logcelci/';var options={type:'popup',responsive:true,innerScroll:true,title:$.mage.__('INICIAR SESIÓN CON'),modalClass:'logcelci-popup',buttons:[]};$.ajax({url:newUrl,type:'POST',dataType:'json',data:{},showLoader:true,success:function(response){if(response.error==true){$('#logcelci-modal').prepend('<div class="message-error error message"><span>'+$.mage.__(response.messages)+'</span></div>');if(response.redirect){window.location=response.redirect}}else{modal(options,$('#logcelci-modal'));$("#logcelci-modal").html(response.output).modal(options).modal('openModal');}}});});});$(document).on("click",".label-garantia",function(){$(".garantia-radio .garantia-field input").removeAttr('checked');$(this).prev().attr('checked','checked').click();$('.extended-warranty select[name="extended_warranty"]').val($(this).prev().val()).trigger("change");});$(document).on("click",".cart-button .go-checkout",function(){$(".garantia-radio .garantia-field input").removeAttr('checked');$(this).prev().attr('checked','checked').click();$('.extended-warranty select[name="extended_warranty"]').val($(this).prev().val()).trigger("change");});$(document).on("click",".encuentro",function(){$('.control-image-container').toggle();$('.cross-control').toggle();});$(document).on("click",".cross-control",function(){$('.control-image-container').toggle();$('.cross-control').toggle();});$(document).mouseup(function(e){if($(e.target).closest(".control-image-container").length===0){$(".control-image-container").hide();$('.cross-control').hide();}});$(document).on("click",".pagarminicuotasd",function(){$('.container-popup').toggle();$('.popup-comod').toggle();});$(document).on("click",".label-cambio",function(){$('#devolucion').removeAttr('checked');$('.cambio #cambio').attr('checked','checked').click();$(this).find("span").addClass("checked");$(".label-devolucion span").removeClass("checked");});$(document).on("click",".label-devolucion",function(){$('#devolucion').attr('checked','checked').click();$('#cambio').removeAttr('checked');$(this).find("span").addClass("checked");$(".label-cambio span").removeClass("checked");});$(document).mouseup(function(e){if($(e.target).closest(".popup-comod").length===0){$(".popup-comod").hide();$('.container-popup').hide();}});$(document).on("click",".cuota-sugerida",function(){$('.cuota-inicial2').find("#inicial2").prop('checked',false);$('#form-customer-minicuotas').show();$('#form-customer-minicuotas-2').hide();$(".cuota-sugerida").css("border","2px solid #ccc;").removeClass("disactive").addClass("active");$(".textfield-block").removeClass("active").addClass("disactive");if($("#form-customer-minicuotas").hasClass("anticipopropio")){minicuotasProrrateo.reload();}});$(document).on("click",".cuota-inicial2",function(){$('.cuota-sugerida').find("#sugerida").prop('checked',false);$('#form-customer-minicuotas').hide();$('#form-customer-minicuotas-2').show();$(".cuota-sugerida").css("border","1px solid #ccc;");});$(document).on("click","#aporte",function(){$(".cuota-sugerida").removeClass("active").addClass("disactive");$(".textfield-block").removeClass("disactive").addClass("active");$('#form-customer-minicuotas').hide();$('#form-customer-minicuotas-2').hide();});$(document).on("click","#form-customer-minicuotas .minicuota-radio label",function(e){e.preventDefault();$("#form-customer-minicuotas .minicuota-radio label").prev().prop('checked',false);$(this).prev().prop('checked',true);});$(document).on("click","#form-customer-minicuotas-2 .minicuota-radio label",function(e){e.preventDefault();$("#form-customer-minicuotas-2 .minicuota-radio label").prev().prop('checked',false);$(this).prev().prop('checked',true);});var existCondition9=setInterval(function(){if($('#checkout-shipping-method-load #shipping-tbody input:checked').length||$('#checkout-shipping-method-load #checkout-step-pas input:checked').length){clearInterval(existCondition9);$("#shipping-method-buttons-container .button").prop('disabled',false);}else{$("#shipping-method-buttons-container .button").prop('disabled',true);}},100);$(document).on("click","#checkout-shipping-method-load #shipping-tbody input",function(){$("#shipping-method-buttons-container .button").prop('disabled',false);});$(document).on("click","#checkout-step-pas .pas",function(){$(this).addClass("checked");});$(document).on('click','#checkout-shipping-method-load .table-checkout-shipping-method #shipping-tbody .row .col-method .radio',function(e){if($(e.target).closest("#checkout-step-pas .pas").length===0){$("#checkout-step-pas .pas").removeClass("checked");}});$(document).on("click","#co-shipping-method-form .primary button",function(){$('#checkout-button').click();});$(document).on("click","#co-shipping-method-form-virtual-only .primary button",function(){$('#checkout-button').click();});$('.pagar-cuota').on('click',function(){$(this).find('.popup-modal').toggle();});$('#pagar').on('click',function(){$(this).find('.popup-modal').toggle();});$('#cross-modal').on('click',function(){$('.popup-modal').toggle();});$(".toolbar-botoom .pagelink").on("click",function(e){e.preventDefault();$('html, body').animate({scrollTop:0},'slow');var nextPage=$(this).attr('href');$.ajax({showLoader:true,url:nextPage,success:function(data){$('.recent-container').html($(data).find('.recent-container').html());setTimeout(function(){window.location.href=nextPage;},2000);}});});$(".pagelink").on("click",function(e){e.preventDefault();var $this=$(this);if($this.data('loading')){return;}
$this.data('loading',true);$('body').trigger('processStart');$('html, body').animate({scrollTop:0},'slow');var nextPage=$this.attr('href');window.location.href=nextPage;});$(document).mouseup(function(e){if($(e.target).closest("#popup-addtocart").length===0){$("#popup-addtocart").hide();}});$(document).on("click","#cross-add",function(){$('#popup-addtocart').hide();});$(document).on("click","#seguir-comprando",function(e){e.preventDefault();$('#popup-addtocart').hide();});var width=$(window).width();$(document).mouseup(function(e){if($(e.target).closest("#popup-car-checkout").length===0){$("#popup-car-checkout").hide();}});$(document).on("click","#cross-car-desktop",function(){$('#popup-car-checkout').hide();});$(document).on("click","#lightblue",function(){$('#popup-car-checkout').show();});$(document).mouseup(function(e){if($(e.target).closest("#popup-car-mobile").length===0){$("#popup-car-mobile").hide();}});$(document).on("click","#cross-car-mobile",function(){$('#popup-car-mobile').hide();});$(document).on("click","#lightblue-mobile",function(){$('#popup-car-mobile').show();});if(width<768){$('.nav-sections-items #store\\.menu .navigation ul li ul.level0 > li.level1').click(function(event){$(this).find('> .submenu').toggle();$('.nav-sections-items #store\\.menu .navigation ul li ul.level0 > li.level1').not(this).find('> .submenu').hide();});$('.nav-sections-items #store\\.menu .navigation ul li ul.level0 > li.level1 #ul-level1 > .level2 > a').click(function(event){event.stopPropagation();event.preventDefault();$(this).parent().find('> .submenu').toggle();$('.nav-sections-items #store\\.menu .navigation ul li ul.level0 > li.level1 #ul-level1 > .level2 > a').not(this).parent().find('> .submenu').hide();});var widthbanner=$('.banner-text-mobile').outerHeight()/ 2;var topbanner=$('.banner-container .banner-mobile img').outerHeight()/ 2;$('.banner-text-mobile').css('top',(topbanner-widthbanner));$(window).resize(function(){$('.banner-text-mobile').css('top',(topbanner-widthbanner));});$('.footer-mobile .container .column ul .main').click(function(){$(this).siblings().find('a').toggle();$(this).find('> .title').toggleClass('active');});$('.navigation ul li ul > li > a').click(function(){$('.navigation ul li ul > li > a').not(this).closest('li').removeClass('active-li');$(this).closest('ul').toggleClass('active-ul');$(this).closest('li').toggleClass('active-li');});}
var opcloaded=setInterval(function(){if($('#co-shipping-method-form').length){clearInterval(opcloaded);if($('.checkout-container #userlogged .opc .checkout-shipping-address .step-content .addresses .control .shipping-address-items').length){$('#opc-shipping_method').css('margin-top','10px');}}},100);$('.add-protocolo').on("click",function(){$('.proto-img-dk').toggle();$('.cross-protocolo-desk').toggle();});$(document).on("click",".add-protocolo-mobile",function(){$('.proto-img-mb').toggle();$('.cross-protocolo-mobile').toggle();});$('.add-protocolo-mobile').on("click",function(){$('.proto-img-mb').toggle();$('.cross-protocolo-mobile').toggle();});$('.cross-protocolo-desk').on("click",function(){$('.proto-img-dk').hide();$('.cross-protocolo-desk').hide();});$('.cross-protocolo-mobile').on("click",function(){$('.proto-img-mb').hide();$('.cross-protocolo-mobile').hide();});$(document).on("click",".cross-protocolo-mobile",function(){$('.proto-img-mb').hide();$(this).hide();});$('.pagar-img').on("click",function(){$('.popup-modal').toggle();});$('.cross-modal').on("click",function(){$('.popup-modal').toggle();});var existCondition2=setInterval(function(){if($('.checkout-shipping-method').length){clearInterval(existCondition2);if(!$('.form-login').length){$('#opc-shipping_method').addClass('logged');}}},100);$('.product #disponible\\.tab div .switcher-language .switcher-options .switcher-trigger strong').on("click",function(){$(this).toggleClass('uparrow');$('.content .disponible-en').toggle();});$('.product #medidas_comerciales\\.tab div .switcher-language .switcher-options .switcher-trigger strong').on("click",function(){$(this).toggleClass('uparrow');$('.content .medidas-comerciales-content').toggle();});if(width>768){$('.navigation ul li ul > li').hover(function(e){$(this).closest('.submenu').toggleClass('active-ul',e.type==='mouseenter');$(this).toggleClass('active-li',e.type==='mouseenter');});}
$('#link-auth').on("click",function(){$('#menulogin').toggle();});var existCondition=setInterval(function(){if($('#checkout-shipping-method-load').length){clearInterval(existCondition);$("#checkout-step-pas").detach().appendTo('#checkout-shipping-method-load');$(".store-pickup").detach().appendTo('#checkout-step-pas');}},100);let currentClicked='';$(document).on("click",".col-method .radio",function(){switch($(this).attr('id')){case's_method_wagentoshippinghomedelivery_wagentoshippinghomedelivery':if(currentClicked!='wagentoshippinghomedelivery'){currentClicked='wagentoshippinghomedelivery';setTimeout(function(){PickupAtStore.showPickupAtStore(false);},500);}
break;case'pas-yes':PickupAtStore.showPickupAtStore(true);currentClicked='pickupatstore';break;}});$('#products-dropdown').on("click",function(){$(this).toggleClass('product-active');$('.custom-sidebar .container-products .product-content').toggle();});$('#categorías').click(function(){var level0=$('.navigation .ui-menu .ui-menu-item > ul.level0');level0.toggle();var level1=$('.navigation .ui-menu .ui-menu-item ul.level1');level1.hide();});var mediatop=$('.slick-active div #media-container > img').outerHeight()/ 2;$('.slick-active div #media-container > img').css({"position":"relative","top":'calc(50% - '+mediatop+'px)'});$('#nosubscription').click(function(){$('#subscription').prop('checked',false);});$('#close-ciudades').click(function(){$('.ciudades').hide();});$('#close-ciudades-mobile').click(function(){$('.acepto').hide();});$('.acepto-btn').click(function(){$('.acepto').hide();});$('.customer-menu > .header.links').clone().appendTo('#store\\.links');$(".nav-sections-items #store\\.settings > #switcher-language-nav").clone().appendTo('#store\\.menu');$('.cart-container .form-cart').clone().appendTo('#editar');$('.cart-container .form-cart .main .update span').html('Actualizar');$('.servicios #checkbox-servicios').click(function(){$(this).toggleClass("checked");});if(!localStorage.noFirstVisit){$('.ciudades-container').css('display','block');localStorage.noFirstVisit="1";}
var userAgent=navigator.userAgent||navigator.vendor||window.opera;if(/android/i.test(userAgent)){$('#android').css('display','inline-block');}else{$('#ios').css('display','inline-block');}
setTimeout(function(){$('.grid-block').on("click",function(){$('.recent-container').toggleClass('list-view');$('.ais-Hits-item').toggleClass('list-view');$('.grid-block').toggleClass('list-active');});},3000);$('.before-up').on("click",function(){var num=parseInt(($(this).siblings('.input-text').val()))+parseInt(1);var qty=$(this).data("max-qty");if(qty>=num){$(this).siblings('.input-text').val(num);}});$('.after-down').on("click",function(){var num=parseInt(($(this).siblings('.input-text').val()))-parseInt(1);if(num>0){$(this).siblings('.input-text').val(num);}});$(".catalog-product-view  .main .bundle-options-container").detach().prependTo(".catalog-product-view  .main .product-info-main .add-to-checkout");$("body.page-products .products-category .recent-container a.img-product img").each(function(){if(!$(this).attr("alt")){$(this).attr("alt",$(this).parent().next().children(".product-item-link").attr("title"));}});$('.icon-dropdown-countdown-fixed').on('click',function(){var showInformation=$('#additional-information-countdown');if(showInformation.hasClass("hide-additional-information-countdown-fixed")){showInformation.removeClass("hide-additional-information-countdown-fixed");}else{showInformation.addClass('hide-additional-information-countdown-fixed');}});$(document).on('click','#modal-quickcheckout-purchase',(event)=>{if(event.target===event.currentTarget){closeModalQuickCheckout('modal-quickcheckout-purchase');}});});});