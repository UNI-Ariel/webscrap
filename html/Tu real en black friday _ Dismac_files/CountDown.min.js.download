window.CountDown=class{SECONDS_IN_DAY=86400;SECONDS_IN_HOUR=3600;SECONDS_IN_MINUTE=60;MONTHS=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]
constructor(month,formattedDate,countDownId,showSeconds,ModalLightning=null){this.modalLightning=ModalLightning;this.formattedDate=this.getMonthName(month)+formattedDate;this.countDownId=countDownId;this.showSeconds=(typeof showSeconds==="boolean")?showSeconds:(/true/).test(showSeconds);this.interval=setInterval(()=>{if(this.makeCountdown()){clearInterval(this.interval);}},1000);}
getMonthName(month){return this.MONTHS[month];}
makeCountdown(){let currentDate=new Date();let countDownDate=new Date(this.formattedDate);let time=countDownDate-currentDate;let seconds=parseInt(time / 1000);let days=0;let hours=0;let minutes=0;let isCountDownFinished=false;if(seconds>=0){jQuery("#Block"+this.countDownId).css("display","block");jQuery("#DiaContain"+this.countDownId).css("display","block");jQuery("#HoraContain"+this.countDownId).css("display","block");jQuery("#MinContain"+this.countDownId).css("display","block");jQuery("#SegContain"+this.countDownId).css("display","block");while(seconds>=this.SECONDS_IN_DAY){seconds-=this.SECONDS_IN_DAY;days+=1;}
while(seconds>=this.SECONDS_IN_HOUR){seconds-=this.SECONDS_IN_HOUR;hours+=1;}
while(seconds>=this.SECONDS_IN_MINUTE){seconds-=this.SECONDS_IN_MINUTE;minutes+=1;}
isCountDownFinished=false;jQuery("#DiaDismac"+this.countDownId).html(this.applyTwoDigitsFormat(days));jQuery("#HoraDismac"+this.countDownId).html(this.applyTwoDigitsFormat(hours));jQuery("#MinutoDismac"+this.countDownId).html(this.applyTwoDigitsFormat(minutes));jQuery("#SegundoDismac"+this.countDownId).html(this.applyTwoDigitsFormat(seconds));}else{isCountDownFinished=true;this.finishedTime();}
if(this.showSeconds){jQuery("#SecContain").css("display","block");}else{jQuery("#SecContain").css("display","none");}
return isCountDownFinished;}
finishedTime(){jQuery("#DiaContain"+this.countDownId).css("display","none");jQuery("#HoraContain"+this.countDownId).css("display","none");jQuery("#MinContain"+this.countDownId).css("display","none");jQuery("#SegContain"+this.countDownId).css("display","none");jQuery("#Block"+this.countDownId).css("display","none");let lightning=jQuery("#"+this.modalLightning);if(lightning!=null){lightning.html("");lightning.css("display","none");jQuery(".page-wrapper").first().css("margin-top",0);}}
applyTwoDigitsFormat(time){if(time<10)return"0"+time;return""+time}};